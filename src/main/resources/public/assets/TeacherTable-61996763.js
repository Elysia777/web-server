import{e as p,t as w}from"./personServ-b89a8be2.js";import{a as g,m}from"./messageBox-2cdc502c.js";import{d as k,b as _,_ as B,n as d,c as y,e as i,s as t,x as a,o as F,y as l,p as n}from"./index-284e2513.js";const C=k({data:()=>({numName:"",dataList:[]}),created(){this.doQuery()},methods:{async doQuery(){this.dataList=await p(this.numName)},addItem(){_.push({name:"TeacherInfo"})},editItem(o){_.push({name:"TeacherInfo",query:{teacherId:o}})},async deleteItem(o){if(!await g("确认删除教师吗?"))return;console.log(this.dataList[o]);const r=await w(this.dataList[o].teacherId);r.code==0?(m(this,"删除成功"),this.dataList.splice(o,1)):m(this,r.msg)}}}),v={class:"base_form"},D=i("div",{class:"base_header"},[i("div",{class:"blue_column"}),i("div",{class:"base_title"},"教师管理")],-1),E={class:"base_query_oneLine"},I={class:"query_left"},$={class:"query_right"},L={class:"table-content"};function N(o,u,r,z,T,V){const c=d("el-button"),b=d("el-input"),s=d("el-table-column"),f=d("el-table");return F(),y("div",v,[D,i("div",E,[i("div",I,[t(c,{class:"commButton",size:"mini",onClick:u[0]||(u[0]=e=>o.addItem())},{default:a(()=>[l("添加")]),_:1})]),i("div",$,[t(b,{modelValue:o.numName,"onUpdate:modelValue":u[1]||(u[1]=e=>o.numName=e)},{default:a(()=>[l("学号或姓名")]),_:1},8,["modelValue"]),t(c,{class:"commButton",size:"small",onClick:u[2]||(u[2]=e=>o.doQuery())},{default:a(()=>[l("查询")]),_:1})])]),i("div",L,[t(f,{data:o.dataList,size:"mini","header-cell-style":{color:"#2E2E2E",fontSize:"10px",fontWeight:"400",background:"rgb(242,242,242)"},"row-style":{height:"10px"},"cell-style":{padding:"2px"},style:{width:"100%"}},{default:a(()=>[t(s,{label:"序号",fixed:"left",width:"50",color:"black"},{default:a(e=>[l(n(e.$index+1),1)]),_:1}),t(s,{label:"工号",color:"black",align:"center",width:"100"},{default:a(e=>[l(n(e.row.num),1)]),_:1}),t(s,{label:"姓名",color:"black",align:"center",width:"100"},{default:a(e=>[l(n(e.row.name),1)]),_:1}),t(s,{label:"院系",color:"black",align:"center",width:"100"},{default:a(e=>[l(n(e.row.dept),1)]),_:1}),t(s,{label:"职称",color:"black",align:"center",width:"100"},{default:a(e=>[l(n(e.row.title),1)]),_:1}),t(s,{label:"学位",color:"black",align:"center",width:"100"},{default:a(e=>[l(n(e.row.degree),1)]),_:1}),t(s,{label:"证件号码",color:"black",align:"center",width:"100"},{default:a(e=>[l(n(e.row.card),1)]),_:1}),t(s,{label:"性别",color:"black",align:"center",width:"100"},{default:a(e=>[l(n(e.row.genderName),1)]),_:1}),t(s,{label:"出生日期",color:"black",align:"center"},{default:a(e=>[l(n(e.row.birthday),1)]),_:1}),t(s,{label:"邮箱",color:"black",align:"center"},{default:a(e=>[l(n(e.row.email),1)]),_:1}),t(s,{label:"电话",color:"black",align:"center"},{default:a(e=>[l(n(e.row.phone),1)]),_:1}),t(s,{label:"地址",color:"black",align:"center"},{default:a(e=>[l(n(e.row.address),1)]),_:1}),t(s,{label:"操作",color:"black",align:"center",width:"230"},{default:a(e=>[t(c,{class:"commButton",size:"mini",onClick:h=>o.editItem(e.row.teacherId)},{default:a(()=>[l("编辑")]),_:2},1032,["onClick"]),t(c,{class:"commButton",size:"mini",onClick:h=>o.deleteItem(e.$index)},{default:a(()=>[l("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","header-cell-style"])])])}const Q=B(C,[["render",N]]);export{Q as default};
